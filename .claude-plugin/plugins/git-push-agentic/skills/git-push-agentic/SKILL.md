---
name: git-push-agentic
description: Autonomous push - auto stage all changes, generate commit message, and push to remote
tools: Bash(git status*), Bash(git diff*), Bash(git add*), Bash(git commit*), Bash(git push*), Bash(git log*), Bash(git branch*)
---

# /git-push-agentic - Fully Autonomous Git Push

## Purpose
Execute a completely autonomous git workflow: stage all changes, auto-generate a meaningful commit message based on the diff, and push to remote. No user input required.

## Workflow Steps

### Step 1: Check Repository State
```bash
git status
git branch -vv
```
- Verify we're in a git repository
- Identify current branch and tracking remote
- Assess what changes exist

### Step 2: Stage All Changes
```bash
git add -A
```
- Stage all modified, deleted, and untracked files
- No prompting - stage everything

### Step 3: Generate Commit Message
```bash
git diff --staged --stat
git diff --staged
```
- Analyze the staged changes
- Auto-generate a concise, meaningful commit message following these rules:
  - Start with a verb (Add, Update, Fix, Remove, Refactor, etc.)
  - Summarize the primary change in under 72 characters
  - If multiple unrelated changes, list the most significant ones
  - Focus on the "what" and "why", not the "how"

### Step 4: Create Commit
```bash
git commit -m "$(cat <<'EOF'
<auto-generated commit message>

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>
EOF
)"
```

### Step 5: Push to Remote
```bash
git push
```
- If no upstream exists, use: `git push -u origin <current-branch>`
- If push fails due to remote changes, attempt: `git pull --rebase && git push`

### Step 6: Confirm Success
```bash
git status
git log -1 --oneline
```
- Report the pushed commit hash and message

## Commit Message Generation Guidelines

Based on the diff, generate messages like:
- `Add user authentication with JWT tokens`
- `Fix null pointer exception in payment processing`
- `Update dependencies to latest versions`
- `Remove deprecated API endpoints`
- `Refactor database queries for performance`

For multiple changes:
- `Add login form and update navigation styling`
- `Fix validation bug and refactor error handling`

## Error Handling

- **Not a git repo**: Exit with clear message
- **No changes to commit**: Report "Nothing to commit, working tree clean"
- **No remote configured**: Attempt `git push -u origin <branch>`
- **Push rejected (diverged)**: Try `git pull --rebase` then push again
- **Authentication failure**: Report the error, suggest checking credentials

## Autonomous Behavior

This skill does NOT ask for user input. It:
1. Stages everything automatically
2. Generates commit messages automatically
3. Pushes automatically
4. Only reports the final result

## Example Output

```
/git-push-agentic

Checking repository... ✓ Branch: main (tracking origin/main)
Staging changes... ✓ 3 files modified, 1 file added
Generating commit... ✓ "Add git-push-agentic plugin for autonomous commits"
Pushing to origin... ✓

Pushed: abc1234 Add git-push-agentic plugin for autonomous commits
```
